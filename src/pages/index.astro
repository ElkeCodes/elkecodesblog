---
import BaseLayout from "@layouts/BaseLayout.astro";
import BlogPost from "@components/BlogPost.astro";
import Introduction from "@components/Introduction.astro";
import { getPublishedPosts } from "@utils/get-published-posts";

const pageTitle = "Hi there, I'm Elke! ðŸ‘‹";

const posts = (await getPublishedPosts()).slice(0, 5);
---

<BaseLayout pageTitle={pageTitle}>
  <Introduction />
  <h2 id="latest-blogposts">Latest blogposts</h2>
  <ul aria-labelledby="latest-blogposts">
    {
      posts.map((post) => (
        <li>
          <BlogPost id={post.id} data={post.data} />
        </li>
      ))
    }
  </ul>
</BaseLayout>

<style>
  ul {
    list-style: none;
    margin: 1rem 0;
    padding: 0;
    display: flex;
    flex-direction: column;
    gap: 1rem;
  }
</style>
