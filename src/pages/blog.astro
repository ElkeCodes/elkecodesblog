---
import BlogPost from "@components/BlogPost.astro";
import BaseLayout from "@layouts/BaseLayout.astro";
import "../styles/global.css";
import { getPublishedPosts } from "@utils/get-published-posts";

const allPosts = await getPublishedPosts();
const pageTitle = "Blog";
---

<BaseLayout pageTitle={pageTitle}>
  <p>
    An overview of everything I've written down in the past. These are my
    thoughts, opinions, lessons learned and shared coding knowledge. From time
    to time, these blogposts will also reflect me besides being a developer as
    I'll talk about my running, hobbies, and interests.
  </p>
  <h2>Blogposts overview</h2>
  <ul>
    {
      allPosts.map((post) => (
        <li>
          <BlogPost id={post.id} data={post.data} />
        </li>
      ))
    }
  </ul>
</BaseLayout>

<style>
  ul {
    list-style: none;
    margin: 1rem 0;
    padding: 0;
    display: flex;
    flex-direction: column;
    gap: 1rem;
  }
</style>
